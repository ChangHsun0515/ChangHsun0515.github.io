<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>給 13</title>
  <style>
    :root{
      --bg:#f3e8ea;
      --card:#ffffff;
      --text:#2b2b2b;
      --muted:#7a6a6f;
      --accent:#b86b77;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans TC",sans-serif;
      background:var(--bg); color:var(--text);
      scroll-behavior:smooth;
    }
    section{
      min-height:100vh;
      display:flex; align-items:center; justify-content:center;
      padding:48px 18px;
    }
    .card{
      width:min(820px, 92vw);
      background:var(--card);
      border:1px solid rgba(0,0,0,.06);
      border-radius:18px;
      padding:42px 28px;
      box-shadow:0 12px 28px rgba(0,0,0,.06);
      text-align:center;
    }
    h1{font-size:34px; margin:0 0 16px; letter-spacing:.5px}
    h2{font-size:22px; margin:0 0 14px}
    p{margin:10px 0; line-height:1.8; color:var(--text)}
    .muted{color:var(--muted); font-size:14px}
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      padding:10px 18px;
      border-radius:999px;
      border:1px solid rgba(0,0,0,.12);
      background:var(--accent);
      color:#fff;
      cursor:pointer;
      margin-top:18px;
      text-decoration:none;
      user-select:none;
    }
    .btn.secondary{
      background:#fff; color:var(--text);
    }
    .row{display:flex; gap:10px; justify-content:center; flex-wrap:wrap}
    .divider{height:1px; background:rgba(0,0,0,.08); margin:18px 0}
    /* 小彩蛋按鈕做得低調一點 */
    .secret-btn{
      background:transparent; border:none; color:var(--muted);
      cursor:pointer; margin-top:8px; font-size:13px; text-decoration:underline;
    }

    /* ====== 29次見面：卡片 ====== */
    .timeline{
      display:flex;
      gap:18px;
      overflow-x:auto;
      padding:8px 2px 14px;
      scroll-snap-type:x mandatory;
      -webkit-overflow-scrolling:touch;
    }
    .timeline::-webkit-scrollbar{ height:6px; }
    .timeline::-webkit-scrollbar-thumb{
      background:rgba(0,0,0,.18);
      border-radius:999px;
    }

    .memory-card{
      min-width:290px;
      width:290px;
      background:var(--card);
      border:1px solid rgba(0,0,0,.06);
      border-radius:18px;
      padding:16px;
      box-shadow:0 12px 26px rgba(0,0,0,.06);
      scroll-snap-align:center;
      text-align:left;
    }
    .memory-title{
      display:flex;
      justify-content:space-between;
      align-items:center;
      font-weight:700;
      font-size:14px;
      color:var(--text);
    }
    .memory-sub{
      font-size:12px;
      color:var(--muted);
      margin-top:2px;
    }

    .slider{
      position:relative;
      margin-top:12px;
    }
    .slide{ display:none; }
    .slide.active{ display:block; }

    .slide img{
      width:100%;
      border-radius:14px;
      box-shadow:0 10px 20px rgba(0,0,0,.08);
      display:block;
    }
    .caption{
      margin-top:10px;
      font-size:14px;
      line-height:1.7;
      color:var(--text);
    }

    .nav{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      border:none;
      width:34px;
      height:34px;
      border-radius:999px;
      cursor:pointer;
      background:rgba(255,255,255,.88);
      box-shadow:0 10px 18px rgba(0,0,0,.10);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:18px;
      line-height:1;
    }
    .nav:hover{ background:#fff; }
    .nav.prev{ left:10px; }
    .nav.next{ right:10px; }

    .dots{
      display:flex;
      gap:6px;
      justify-content:center;
      margin-top:10px;
    }
    .dot{
      width:6px; height:6px;
      border-radius:999px;
      background:rgba(0,0,0,.18);
      cursor:pointer;
    }
    .dot.active{ background:var(--accent); }
    .photo-block{
      margin-top:16px;
    }
    .photo-block img{
      width:100%;
      border-radius:14px;
      box-shadow:0 10px 22px rgba(0,0,0,0.08);
    }
    .caption{
      margin-top:8px;
      font-size:14px;
      line-height:1.7;
      color:var(--text);
    }
  </style>
</head>

<body>
  <audio id="bgm" preload="auto" loop>
    <source src="bgm.mp3" type="audio/mpeg">
  </audio>


  <!-- Page 1（不動） -->
  <section id="p1">
    <div class="card">
      <h1>給你，<br>在你 25 歲這一年。</h1>
      <p class="muted">生日快樂 & 情人節快樂</p>
      <p class="muted">（記得打開聲音）</p>
      <a class="btn" href="#first-day">Enter</a>
    </div>
  </section>

    <!-- Page：第 0 次（我們相遇的那一天） -->
  <section id="first-day">
    <div class="card">
      <h2>我們的開始</h2>
      <p class="muted">也許當時我們還不知道，這會變成後來的故事。</p>
  
      <div style="margin-top:20px;">
        <img src="first-day.jpg"
             alt="我們相遇的那天"
             style="width:100%; max-width:520px; border-radius:16px; box-shadow:0 14px 30px rgba(0,0,0,0.08);">
      </div>
      <p style="margin-top:22px;">那天我去新竹申請租屋補助。</p>
      <p>最後我沒有申請到補助。</p>
      <p>但我沒想到我會申請到這麼棒的男朋友。</p>
  
      <div class="divider"></div>
      <div class="row">
        <a class="btn secondary" href="#p1">回首頁</a>
        <a class="btn" href="#memories">繼續</a>
      </div>
    </div>
  </section>
  

  <!-- Page X：29 次見面（已換成：卡片內多張照片 + 每張一句話） -->
  <section id="memories">
    <div class="card">
      <h2>我們的每次見面</h2>
      <p class="muted">從第 1 次，到第 29 次。</p>
      <p class="muted">（左右滑動卡片；卡片內可切換照片。）</p>
  
      <div class="timeline">
  
        <!-- 第 1 次 -->
        <div class="memory-card" data-slider>
        <div class="memory-title"> 
          <span>第 1 次見面，也是我們在一起的那天。</span>
          <span class="memory-sub">2025.01.24</span>
        </div>
      
        <div class="slider">
          <button class="nav prev" type="button" aria-label="上一張">‹</button>
          <button class="nav next" type="button" aria-label="下一張">›</button>
      
          <div class="slide active">
            <img src="m1-1.jpg" alt="第1次-1">
            <div class="caption">我們的第一餐，結果我開始跟你聊政治。</div>
          </div>
      
          <div class="slide">
            <img src="m1-2.jpg" alt="第1次-2">
            <div class="caption">我們在一起了，在湖邊的祕密基地牽起對方的手。</div>
          </div>
          
          <div class="dots" aria-hidden="true"></div>
          </div>
        </div>

        <!-- 第 2 次 -->
        <div class="memory-card" data-slider>
        <div class="memory-title"> 
          <span>第 2 次見面，第一次慶祝你的生日，還有情人節。</span>
          <span class="memory-sub">2025.02.16</span>
        </div>
        
        <div class="slider">
          <button class="nav prev" type="button" aria-label="上一張">‹</button>
          <button class="nav next" type="button" aria-label="下一張">›</button>
        
          <div class="slide active">
            <img src="m2-1.jpg" alt="第2次-1">
            <div class="caption">我們的第一張合照。</div>
          </div>
        
          <div class="slide">
            <img src="m2-2.jpg" alt="第2次-2">
            <div class="caption">我們的慶祝大餐，吃宅勤美，還在萬客什鍋前面親親。</div>
          </div>
        
          <div class="dots" aria-hidden="true"></div>
          </div>
        </div>

      <!-- 第 3 次 -->
      <div class="memory-card" data-slider>
      <div class="memory-title"> 
          <span>第 3 次見面，也是你第一次到新竹找我。</span>
          <span class="memory-sub">2025.02.21</span>
      </div>
      
      <div class="slider">
        <button class="nav prev" type="button" aria-label="上一張">‹</button>
        <button class="nav next" type="button" aria-label="下一張">›</button>
      
        <div class="slide active">
          <img src="m3-1.jpg" alt="第3次-1">
          <div class="caption">新竹公園湖邊的13加上飛揚的髮尾。</div>
        </div>
      
        <div class="slide">
          <img src="m3-2.jpg" alt="第3次-2">
          <div class="caption">我們都笑得好燦爛。</div>
        </div>
          
        <div class="dots" aria-hidden="true"></div>
        </div>
      </div>

      <!-- 第 4 次 -->
        <div class="memory-card" data-slider>
        <div class="memory-title"> 
          <span>第 4 次見面，我們第一次休息，然後到車站看火車，你說你喜歡我眼睛發亮的樣子。</span>
          <span class="memory-sub">2025.03.01</span>
        </div>
      
        <div class="slider">
          <button class="nav prev" type="button" aria-label="上一張">‹</button>
          <button class="nav next" type="button" aria-label="下一張">›</button>
      
          <div class="slide active">
            <img src="m4-1.jpg" alt="第4次-1">
            <div class="caption">剛下班，但看起來不太累的你。</div>
          </div>
      
          <div class="slide">
            <img src="m4-2.jpg" alt="第4次-2">
            <div class="caption">在鏡子前面自拍親親，有點害羞。</div>
          </div>
          
          <div class="dots" aria-hidden="true"></div>
          </div>
        </div>

      <div class="divider"></div>
      <div class="row">
        <a class="btn secondary" href="#first-day">上一頁</a>
        <a class="btn" href="#p4">下一頁</a>
      </div>
    </div>
  </section>


  <!-- Page 4 -->
  <section id="p4">
    <div class="card">
      <h2>未來聲明</h2>
      <p>如果有一天你懷疑自己，</p>
      <p>我希望你記得：你已經走得很遠了。</p>
      <p>我想做的不是把你變成誰，</p>
      <p>而是陪你走向你想成為的樣子。</p>

      <button class="secret-btn" onclick="document.getElementById('p5').scrollIntoView({behavior:'smooth'});">
        你確定要點？
      </button>

      <div class="divider"></div>
      <div class="row">
        <a class="btn secondary" href="#memories">上一頁</a>
        <a class="btn" href="#p5">下一頁</a>
      </div>
    </div>
  </section>

  <!-- Page 5 / Secret（不動） -->
  <section id="p5">
    <div class="card">
      <h2>彩蛋</h2>
      <p>這段留給你，只有你。</p>

      <audio controls style="width:min(520px, 100%); margin-top:12px;">
        <source src="yourvoice.mp3" type="audio/mpeg">
      </audio>

      <div class="divider"></div>
      <div class="row">
        <a class="btn secondary" href="#p4">回上一頁</a>
        <a class="btn" href="#p1">回首頁</a>
      </div>
    </div>
  </section>

  <script>
  document.addEventListener('DOMContentLoaded', function(){
  
    /* ========= 背景音樂 ========= */
    const bgm = document.getElementById('bgm');
    const p5 = document.getElementById('p5');
  
    async function startBgmOnce(){
      if (!bgm) return;
      if (!bgm.paused) return;
      try{
        bgm.volume = 0.35;
        await bgm.play();
  
        document.removeEventListener('click', startBgmOnce);
        document.removeEventListener('touchstart', startBgmOnce);
        document.removeEventListener('keydown', startBgmOnce);
      }catch(e){}
    }
  
    document.addEventListener('click', startBgmOnce);
    document.addEventListener('touchstart', startBgmOnce);
    document.addEventListener('keydown', startBgmOnce);
  
    if (p5 && 'IntersectionObserver' in window){
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(entry=>{
          if(entry.isIntersecting){
            if(bgm && !bgm.paused){
              bgm.pause();
              bgm.currentTime = 0;
            }
          }
        });
      }, { threshold:0.6 });
  
      io.observe(p5);
    }
  
  
    /* ========= 手動輪播（不自動） ========= */
    const cards = document.querySelectorAll('[data-slider]');
    cards.forEach(card => {
      const slides = Array.from(card.querySelectorAll('.slide'));
      const prevBtn = card.querySelector('.prev');
      const nextBtn = card.querySelector('.next');
      const dotsWrap = card.querySelector('.dots');
  
      let idx = 0;
  
      if (!slides.length) return;
  
      // 建立 dots
      if (dotsWrap){
        dotsWrap.innerHTML = '';
        slides.forEach((_, i)=>{
          const d = document.createElement('div');
          d.className = 'dot' + (i===0 ? ' active':'');
          dotsWrap.appendChild(d);
        });
      }
  
      const dots = dotsWrap ? Array.from(dotsWrap.querySelectorAll('.dot')) : [];
  
      if (slides.length <= 1){
        if(prevBtn) prevBtn.style.display = 'none';
        if(nextBtn) nextBtn.style.display = 'none';
        if(dotsWrap) dotsWrap.style.display = 'none';
      }
  
      function render(){
        slides.forEach((s,i)=>s.classList.toggle('active', i===idx));
        dots.forEach((d,i)=>d.classList.toggle('active', i===idx));
      }
  
      function go(delta){
        if(slides.length <= 1) return;
        idx = (idx + delta + slides.length) % slides.length;
        render();
      }
  
      if(prevBtn) prevBtn.addEventListener('click', ()=>go(-1));
      if(nextBtn) nextBtn.addEventListener('click', ()=>go(1));
      dots.forEach((d,i)=>d.addEventListener('click', ()=>{ idx=i; render(); }));
  
      // 手機滑動
      let startX=null;
      card.addEventListener('touchstart', (e)=>{
        startX = e.touches[0].clientX;
      }, {passive:true});
  
      card.addEventListener('touchend', (e)=>{
        if(startX===null) return;
        const dx = e.changedTouches[0].clientX - startX;
        if(Math.abs(dx)>40) go(dx>0?-1:1);
        startX=null;
      }, {passive:true});
    });
  
  });
  </script>
  
</body>
</html>
